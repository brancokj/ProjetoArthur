# ==============================================================
# CONFIGURAÇÕES DA APLICAÇÃO
# ==============================================================
spring.application.name=sistema-estoque-vendas
server.port=8080
server.error.include-message=always

# ==============================================================
# LOGS E CORES (Para debugar como um profissional)
# ==============================================================
# Habilita cores no console
spring.output.ansi.enabled=ALWAYS

# Formato do Log: Data, Nível (ERRO/INFO), Canal e Mensagem
logging.pattern.console=%clr(%d{yyyy-MM-dd HH:mm:ss}){faint} %clr(%5p) %clr(---){faint} %clr([%15.15t]){faint} %clr(%-40.40logger{39}){cyan} %clr(:){faint} %m%n

# Nível de log (DEBUG para ver tudo o que acontece no seu código)
# Substitua 'com.seuprojeto' pelo nome do seu pacote principal
logging.level.com.seuprojeto=DEBUG
logging.level.org.springframework.web=INFO

# ==============================================================
# BANCO DE DADOS (MySQL)
# ==============================================================
# Altere 'estoque_db' para o nome que você quer dar ao seu banco
spring.datasource.url=jdbc:mysql://localhost:3306/estoque_db?createDatabaseIfNotExist=true&serverTimezone=UTC
spring.datasource.username=root
spring.datasource.password=
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# ==============================================================
# JPA / HIBERNATE (Magia que cria as tabelas)
# ==============================================================
# 'update' cria as tabelas no MySQL automaticamente baseado nas suas classes Java
spring.jpa.hibernate.ddl-auto=create-drop

# Mostra o SQL bonitinho e formatado no terminal
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# Ajuda o Hibernate a falar a "língua" correta do MySQL
spring.jpa.database-platform=org.hibernate.dialect.MySQLDialect

# Mostra os valores reais que estão sendo salvos no banco (ex: o preço do produto)
logging.level.org.hibernate.orm.jdbc.bind=TRACE

# Custom application security properties
api.security.token.secret=MinhaSenhaSuperSecreta123

# --- CORREÇÃO DE CONEXÃO (HIKARI) ---
# Define o tempo máximo de vida de uma conexão (10 minutos)
spring.datasource.hikari.max-lifetime=600000
# Tempo para verificar se a conexão está viva (5 segundos)
spring.datasource.hikari.validation-timeout=5000
# Tempo máximo esperando por uma conexão (30 segundos)
spring.datasource.hikari.connection-timeout=30000

# Apenas confirma que queremos esse comportamento (ou coloque false para desativar)
spring.jpa.open-in-view=true